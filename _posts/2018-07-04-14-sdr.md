---
number: 14
title: "На радиоволнах"
subtitle: "Software Defined Radio"
date: "2018-07-04 22:00:00"
rudate: "4 июля 2018"
keywords: "SDR"
mp3file: "Безопасность для всех - 14 - 2018.07.04.mp3"
mp3size: "7685692"
mp3duration: "12:42"
---
Утечка платежных данных с сайта Ticketmaster; два подростка арестованы за взлом более 500 000 аккаунтов; уязвимость в WordPress позволяет удалять файлы с сервера; с Docker Hub удалены образы с бэкдорами; в протоколе LTE выявлены уязвимости. 

Основная тема - Software Defined Radio
<!--more-->

## Вспомогательные темы
Automatic dependent surveillance — broadcast (ADS–B) - автоматическое зависимое наблюдение-вещание - технология наблюдения за воздушными судами. Каждый борт определяет свое местоположение используя спутниковую навигацию и периодически транслирует информацию о себе в эфир. Тем самым позволяя отслеживать свой статус.

Raspberry Pi - надеюсь многие слышали про этот мини компьютер. Он был разработан в Кембриджском университете для обучения детей устройству компьютера. Представляет из себя небольшую плату, размером примерно с банковскую карту с размещенными на ней компонентами и разъемами. Несмотря на свой размер, имеет все обычные для компьютера части - центральный процессор, оперативную память, порты расширения и т.д. Стоит он в районе $25-35. Отчасти ценой обусловлена его невероятная популярность во всем мире.

LTE -  Long-Term Evolution, дословно - долговременное развитие. Часто обозначается как 4G. Стандарт высокоскоростной беспроводной передачи данных для мобильных устройств. Является несовместимым с 2G и 3G, поэтому работает на отдельной частоте.

Бэкдор - от англ. back door — «чёрный ход» или если дословно, то «задняя дверь». Отдельная программа или дефект алгоритме, позволяющие получить несанкционированный доступ. Программа может быть установлена в систему злоумышленником, в результате взлома, или самим пользователем, если злоумышленникам удастся его обмануть.

## Новости

### Утечка платежных данных с сайта Ticketmaster

На сайте сервиса по продаже билетов Ticketmaster была выявлена утечка данных. Компания Inbenta предоставляет для Ticketmaster утилиту для поддержки пользователей. Они создали специально модифицированную версию скрипта, которую разместили на своем сервере, а Ticketmaster включал его в свои страницы. В частности скрипт был размещен на странице оплаты.

Злоумышленники добрались до скрипта и изменили его содержимое. Модифицированная версия отсылала платежные реквизиты на сторонний ресурс. Данный пример показывает, что проблемы могут прийти извне. Защититься от подмены скрипта можно было с помощью Content Security Policy (CSP). Подробнее об этой технологии я расскажу в одном из следующих выпусков.

[https://www.zdnet.com/article/inbenta-blamed-for-ticketmaster-breach-says-other-sites-not-affected/](https://www.zdnet.com/article/inbenta-blamed-for-ticketmaster-breach-says-other-sites-not-affected/)

### Два подростка арестованы за взлом более 500 000 аккаунтов

Российская полиция в сотрудничестве с Group-IB арестовала двух подростков за взлом и продажу доступа к более чем 500 000 аккаунтов платежных систем, онлайн магазинов и сервисов бронирования. Их деятельность попала в поле зрения еще в 2012 году, когда они получили доступ к 120 000 учетных записей.

По словам экспертов, для получения доступа к аккаунтам, злоумышленники использовали логины и пароли из публично доступных утечек. Чтобы не стать жертвой подобной атаки, нужно на разных сайтах использовать разные пароли. При таком подходе, в случае компрометации одного сервиса, аккаунты на остальных будут в безопасности.

[https://www.bleepingcomputer.com/news/security/two-hackers-arrested-for-hijacking-over-700-000-online-accounts/](https://www.bleepingcomputer.com/news/security/two-hackers-arrested-for-hijacking-over-700-000-online-accounts/)

### Уязвимость в WordPress позволяет удалять файлы с сервера

Исследователи из RIPS Technologies обнаружили уязвимость, с помощью которой владелец непривилегированной учетной записи может удалять файлы на сервере под управлением WordPress. Проблема связана с функцией удаления пользователем изображений предпросмотра картинок. Как выяснилось, эта функциональность принимает необработанный пользовательский ввод. Если параметр будет подменен, то пользователь с ограниченными правами сможет удалить любой файл с сервера. Используя эту уязвимость можно, например, удалить файл .htaccess, в котором зачастую содержатся настройки связанные с безопасность сервера.

Для эксплуатации этой уязвимости злоумышленнику нужен аккаунт. Поэтому критичность этой уязвимостей немного понижена. Исследователи уведомили команду разработки WordPress еще 7 месяцев назад, но до сих пор последняя версия 4.9.6 остается уязвимой.

[https://thehackernews.com/2018/06/wordpress-hacking.html](https://thehackernews.com/2018/06/wordpress-hacking.html)

### С Docker Hub удалены образы с бэкдорами

Из официального реестра образов Docker Hub были удалены 17 образов, содержащих бэкдоры. Образы не проходят тестирование и анализ безопасности, поэтому особых проблем с размещением вредоносных образов нет. Все удаленные образы были залиты из-под одного аккаунта - docker123321.

Эксперты сообщают, что вредоносные образы были активны целый год - с мая 2017 по май 2018. Один из образов был скачан более миллиона раз. Если вы используете какие-либо образы из открытых хранилищ, проверяйте их содержимое и активность. А еще лучше создавайте свои. Если вы готовите системы для корпоративного использования, то старайтесь использовать только собственные наработки.

[https://xakep.ru/2018/06/15/docker-hub-backdoors/](https://xakep.ru/2018/06/15/docker-hub-backdoors/)

### Уязвимости в протоколе LTE

Исследователи из Рурского университета в Бохуме и Нью Йоркского университета в Абу-Даби показали, как три различные техники могут быть использованы для атаки на второй, канальный, уровень LTE. Несмотря на то, что данные шифруются, две пассивные атаки позволяют разделять пользователей и различать разные сайты. Активная атака, названная ALTER,  позволяет подменять DNS запросы и перенаправлять трафик.

Проблема связана с тем, что для зашифрованных данных не обеспечивается их целостность. Это дает злоумышленникам возможность модифицировать данные, если жертва подключена к их соте. Для осуществления атаки нужна специально модифицированная вышка, которая стоит порядка нескольких тысяч долларов. Из-за цены и сложности атака, скорее всего, не будет сильно распространена, по крайней мере первое время, но для важных целей ее вполне могут начать применять.

[https://betanews.com/2018/06/30/alter-lte-vulnerability/](https://betanews.com/2018/06/30/alter-lte-vulnerability/)


## Software Defined Radio

Все мы привыкли к большому количеству беспроводных устройств. Пульты для телевизоров, дверные звонки, мыши и клавиатуры, бесконтактные проездные билеты и пропуска, рации. А без wi-fi вообще сложно представить современный мир.

Важной особенностью беспроводной связи является то, что передаваемые данные может получить любой клиент. Многие устройства wi-fi и bluetooth могут работать в неразборчивом режиме - в этом режиме они передают в операционную систему абсолютно все пакеты данных, а не только предназначенные им. Анализировать беспроводной трафик в этом случае не составляет труда. Поэтому особенно важно защищать передаваемые беспроводным путем данные.

С Wi-Fi и bluetooth более-менее понятно. А как дела обстоят с устройствами, которые используют другие протоколы? Насколько сложно их анализировать?

### Виды беспроводной связи

Давайте сначала разберемся, какие существуют протоколы и какие частоты для них используются.

Про пульты дистанционного управления, наверняка, все знают - они используют невидимый человеком спектр света - “инфракрасный”. Поэтому для функционирования нужна прямая видимость. На них я не буду останавливаться.

Устройства, которые должны функционировать без прямой видимости обычно работают на одной из нелицензируемых частот, например, 433 Мгц или 2.4 ГГц.

Несмотря на то, что обычно указывается одна конкретная частота, для работы нужен диапазон частот. Этот диапазон разбивается на каналы. С каналами вы могли встречаться, если настраивали wi-fi или смотрели детальную информацию о соединении.

### 433 МГц

433 МГц используется в основном для устройств, которым не нужна большая скорость и нужно низкое энергопотребление. Например, обычно на этой частоте работают дверные звонки.

### 2.4 ГГц

На частоте 2.4 ГГц работают wi-fi, bluetooth. Также беспроводные клавиатуры и мыши работают на этой частоте. Если в них не используется bluetooth, то используется нестандартный протокол, созданные производителем устройства.

### 5 ГГц

Новая версия протокола Wi-Fi использует для работы частоты в районе 5 ГГц.

### SDR

Основной частью беспроводного устройства является один или несколько чипов, которые умеют преобразовывать аналоговый сигнал, принимаемый антенной, в цифровой вид. Для уменьшения энергопотребления и ускорения обработки большинство необходимых преобразований выполняются на чипах устройства. Но такой подход не позволяет гибко менять используемый протокол.

### RTL-SDR
5-7 лет назад выяснилось, что некоторые USB приемники цифрового телевидения DVB-T работают на чипах, которые отдают операционной системе данные с минимальной обработкой. Все основные преобразования производятся программно на компьютере.

Наибольшей популярностью сейчас пользуются устройства на чипе Realtek RTL2832U. В связке с ним используются чипы тюнеры, для приема сигнала с антенны. Наличие недорогих устройств, ценой порядка $30, на чипе Realtek дало любителям возможность принимать и анализировать различные типы сигналов в достаточно широком диапазоне частот - от 25-50 до 1000 или 1850 МГц, в зависимости от чипа тюнера. Если надумаете выбирать устройство, не забудьте про этот параметр. В настоящий момент предпочтительный тюнер - R820T2.

Естественно существуют и более дорогостоящие решения, которые помимо приема данных могут их передавать. Такая функциональность может быть использована для глушения сигнала или подделки данных. Например, можно транслировать в эфир поддельные значения GPS, вводя в заблуждение устройства поблизости.

Стоит помнить про законодательные ограничения. У нас в стране вещание на некоторых частотах подлежит лицензированию. Также мощность генерируемого сигнала не должна превышать определенных значений.

### GNURadio и SDRSharp

Для работы с SDR устройствами есть достаточно много софта. Часть заточена под какие-то конкретные протоколы, часть достаточно универсальна. Среди универсальных можно отметить GNURadio. Это по сути конструктор для мира радио. В нем можно собирать различные цепочки обработки информации.

Другой популярной программой является SDR#. Она менее универсальна, но зато имеет более дружественный интерфейс и меньший порог вхождения.

### FlightRadar

Одно из интересных применений технологии SDR - отслеживание состояния самолетов. Каждый борт оборудованный системой ADS-B транслирует на частоте 1090 МГц информацию о себе. Каждый желающий может вооружиться оборудованием SDR и получать эту информацию на свой компьютер.

В интернете есть сайты, которые агрегируют информацию и отображают состояния рейсов на карте в реальном времени. Один из наиболее известных - flightradar24. Один из вариантов оборудования, который может быть использован для данного сайта - USB приемник цифрового телевидения и raspberry pi.

Тема software defined radio очень интересная. Даже при небольшом погружении в нее вы можете открыть для себя много нового, о чем раньше даже и не думали.

--

На сегодня у меня все. Покоряйте новые высоты. До следующей недели.

